\documentclass[a4,semcolor,slidesonly,12pt,landscape]{seminar}
\def\printlandscape{\special{landscape}}

\usepackage{url}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage{rotating}
\usepackage{pifont}
\usepackage{graphicx}
\usepackage[dvips]{color}

\usepackage[iso-8859-7]{inputenc}
\usepackage[greek,english]{babel}
\usepackage{kerkis}
\usepackage{listings}

\selectlanguage{greek}
\definecolor{navy}{rgb}{0.3, 0.4, 0.5}

%do not center slides
\centerslidesfalse
\slideframe{none}

\addtolength{\slideheight}{1in}
\addtolength{\slidewidth}{0.4in}

\renewcommand{\sliderightmargin}{0.3in}
\renewcommand{\slideleftmargin}{\sliderightmargin}

\newcommand{\Title}[1]{%
    \begin{flushleft}
	\textcolor{navy}{%
	    \Large{\ding{224} #1}
	    \vskip 0.5ex
	    \hrule height 0.7pt \relax
	    \vskip 1ex
	}
    \end{flushleft}
}

\newcommand{\Sec}[2]{%
    \begin{center}
    \begin{minipage}{0.8\textwidth}
    \centering{\resizebox{0.8\textwidth}{0.3\textheight}{\Large{\navy{#1}}}} \\
    \centering{#2}
    \end{minipage}
    \end{center}
}

\newcommand{\SecNum}[2]{%
    \begin{center}
    \begin{minipage}{0.8\textwidth}
    \centering{\Huge{\navy{#1}}} \\
    \centering{#2}
    \end{minipage}
    \end{center}
}


\newcommand{\listCode}[1]{%
    \lstinputlisting[basicstyle=\footnotesize,stringstyle=\ttfamily,numbers=none,showstringspaces=false,
    showlines=false,emptylines=0,lineskip=-11pt]{#1}
}

\newcommand{\term}[1]{
    \emph{\textlatin{#1}}
}

\newcommand{\php}{\term{PHP}}
\newcommand{\asp}{\term{ASP}}
\newcommand{\activex}{\term{ActiveX}}
\newcommand{\vbs}{\term{VbScript}}
\newcommand{\js}{\term{JavaScript}}
\newcommand{\atoken}{\term{Token}}
\newcommand{\aast}{\term{AST}}
\newcommand{\xml}{\term{XML}}
\newcommand{\lex}{\term{Lexer}}

\newcommand{\navy}[1]{%
    \textcolor{navy}{#1}
}

\newcommand{\head}[1]{
    \navy{\textbf{#1}}
}

%create a watermark
\newsavebox{\watermark}
\sbox{\watermark}{%
\includegraphics[width=0.4\textwidth]{logo2.eps}
}

%include the watermark in the title slide
\fancyhead{}
\fancyhead[C]{%
    \setlength{\unitlength}{1in}
    \begin{picture}(0,0)
        \put(-1.8,-2.8){\usebox{\watermark}}
    \end{picture}}

\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\renewcommand{\headwidth}{\textwidth}


%make the title slide
\title{%
    \selectlanguage{greek}
    \navy{\Large \textlatin{ASPA}:Μεταφραστής από \asp σε \php}
    \vskip 0.5ex
    \hrule height 0.7pt \relax
    \vskip 0.5ex
    \textlatin{ASPA: A translator from ASP to PHP}
    \vspace{15pt}
}

\author{%
\navy{Ανακρέων Μεντής} \\
\selectlanguage{english}
\footnotesize{\navy{\url{anakreonmejdi@yahoo.gr}}}
}

\date{%
\vspace{45pt}
\selectlanguage{english}
\url{http://daemon.di.uoa.gr/daemon/issue10}\\
\url{http://storm.cs.unipi.gr/~anakreon/aspa.html}\\
\vspace{10pt}
\selectlanguage{greek}
\navy{Ιούλιος 2004}
}


\begin{document}
\begin{slide}
\maketitle
\end{slide}

\begin{slide}
\fancyhead{}
%\lhead{
%    \includegraphics[scale=0.25]{daemon.eps}
%}
\fancyfoot{}
\rfoot{%
    \head{\textlatin{ASPA}}
}
\pagecolor[rgb]{0.9, 0.9, 0.9}
\selectlanguage{greek}
\Title{Λίγα λόγια για την \asp}
\begin{dinglist}{55}
    \item Η \asp \emph{δεν είναι γλώσσα}. Η \asp είναι μία πλατφόρμα ανάπτυξης
    Ιντερνετικών εφαρμογών, όπου κάθε γλώσσα χειρίζεται από κάποιο
    \activex.
    \item Υποστηρίζει εγγενώς την \js και \vbs
    \item Το περιεχόμενο μίας σελίδας \asp αποτελείται από κείμενο
    (\term{HTML}, \term{XML} ή οτιδήποτε άλλο) και κώδικα σε κάποια γλώσσα
    προγραμματισμού
    \item Ο κώδικας περικλείεται από τα σύμβολα \textless\% και \%>
    \item Η λειτουργικότητα που παρέχει η \asp, δίνεται από \activex
    αντικείμενα
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Στόχος του προγράμματος}

\begin{dinglist}{55}
    \item Διευκόλυνση μετάβασης από \asp σε \php
    \item Να είναι εφικτή η χρήση τμημάτων του προγράμματος σε άλλες εργασίες
    \item Εύκολη επέκταση του προγράμματος
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Υπάρχοντες Μεταφραστές}
\textlatin{asp2php} (\small{\textlatin{\url{http://asp2php.naken.cc}}})\\\\
Πλεονεκτήματα:
\begin{dinglist}{55}
    \item Είναι γραμμένο σε \term{C} και είναι γρήγορο
    \item Υποστηρίζει σε μεγάλο βαθμό την \vbs
    \item Αναγνωρίζει αρκετές από τις μεθόδους βασικών αντικειμένων της \asp
    όπως το \textlatin{Request} και \term{Response}
    \item Προσφέρει κάποια υποστήριξη για αντικείμενα του \term{ADO}
\end{dinglist}
\newpage
Μειονεκτήματα:
\begin{dinglist}{55}
    \item Χρησιμοποιεί κανονικές εκφράσεις και αναγνώριση προτύπων για την
    μετάφραση
    \item Η υποστήριξη της \js βρίσκεται στα πρώτα της βήματα
    \item Η μετάφραση των μεθόδων και ιδιοτήτων των \activex είναι
    \textlatin{\emph{hard coded}}
    \item Η αναγνώριση και μετάφραση άλλων \activex απαιτεί επέμβαση
    στο πηγαίο κώδικα
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Βασικές έννοιες}
    \begin{description}
        \item[\atoken] Είναι μία δομή δεδομένων που αποτελείται
        από έναν αριθμό που συμβολίζει το τύπο του \atoken και μία
        συμβολοσειρά.
        \item[\aast] Είναι ένα δέντρο όπου κάθε κόμβος αποθηκεύει
        ένα \atoken.
        \item[\lex] Δέχεται ως είσοδο μία συμβολοσειρά την οποία
        διασπά σε ροή από \atoken.
        \item[\term{Parser}] Η είσοδος είναι η ροή από \atoken
        και παράγει ένα δέντρο \aast.
        \item[\term{TreeParser}] Δέχεται ως είσοδο ένα δέντρο
        \aast. Η έξοδος του \term{TreeParser} μπορεί να είναι
        ένα άλλο δέντρο \aast, το οποίο έχει υποστεί κάποιες αλλαγές
        στην δομή του.
        \item[\activex] Το αντίστοιχο του \activex από
        τον αντικειμενοστραφή κόσμο, είναι οι κλάσεις. Το \activex
        παρέχει μεταβλητές (\textlatin{Members}) και μεθόδους.
    \end{description}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Σχεδιασμός}
Το πρόγραμμα αποτελείται από ανεξάρτητα τμήματα, δομημένων σε επίπεδα. Η έξοδος
ενός επιπέδου είναι η είσοδος του επομένου.
\end{slide}

\begin{slide}
\Title{Lexers}
\selectlanguage{greek}
\begin{dinglist}{55}
    \item \term{JsLexer}. Μετατρέπει πηγαίο κώδικα της
    \js σε μία σειρά από \atoken.
    \item \term{VbsLexer}. Κάνει ότι ο \term{JsLexer} με την διαφορά
    ότι ο πηγαίος κώδικας είναι σε \vbs. Επιπλέον, φροντίζει
    τα ονόματα των μεταβλητών να δοθούν με τον ίδιο τρόπο γραφής όσων αφορά
    την συμφωνία πεζών και κεφαλαίων.

    Για παράδειγμα, οι μεταβλητές \textlatin{myVar, MYVAR} και \textlatin{myvar}
    θα ονομάζονται \textlatin{myVar} και στις τρεις περιπτώσεις.
    \item \term{HtmlLexer} Επεξεργάζεται το απλό κείμενο που παρεμβάλλεται
    του κώδικα. Ο ρόλος του \term{HtmlLexer} είναι να αναγνωρίσει πότε
    ξεκινά ένα τμήμα κώδικα, ώστε να αναλάβουν οι άλλοι \lex την
    περαιτέρω επεξεργασία του.
\end{dinglist}
\end{slide}

\begin{slide}
\Title{Parsers}
\selectlanguage{greek}
\begin{dinglist}{55}
    \item \term{JsParser} Σχηματίζει ένα δέντρο \aast από τα
    \atoken που έλαβε από το \term{JsLexer}. Αποθηκεύει
    πληροφορίες για τους τύπους μεταβλητών, τα ονόματα των μεθόδων του χρήστη
    (\textlatin{function}), και των ανώνυμων συναρτήσεων.
    \item \term{VbsParser} Σχηματίζει το \aast της αντίστοιχης
    γλώσσας, και αποθηκεύει πληροφορίες παρόμοιες με του \term{JsLexer}.
\end{dinglist}
Τα δύο αρθρώματα που περιγράψαμε, δεν αφορούν την μετάφραση, αλλά συλλέγουν
πληροφορίες απαραίτητες για την μετάφραση. Προτού περιγράψουμε τις λειτουργίες
του τρίτου αρθρώματος, των \term{TreeParser}, είναι αναγκαίο να αναφέρουμε
τον ρόλο της \xml στην διαδικασία μετάφρασης.
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{\activex και \xml}
Οι δυσκολίες που εισάγουν τα \activex στο εγχείρημα, είναι οι
παρακάτω:
\begin{dinglist}{55}
    \item Ονόματα μεταβλητών ή μεθόδων μπορεί να συμπίπτουν με λέξεις κλειδιά
    κάποιας γλώσσας.
    \item Η μετάφραση μεταβλητής ή μεθόδου του \activex απαιτεί
    γνώση της λειτουργικότητας που παρέχει το εν λόγω αντικείμενο.
\end{dinglist}
Η πρώτη δυσκολία αντιμετωπίζεται από τους \lex της
\js και \vbs.
Για το δεύτερο πρόβλημα χρειάζεται η \xml.
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παρατηρήσεις για \activex και \xml}
\begin{dinglist}{55}
    \item Οι πληροφορίες που αφορούν το \activex είναι ιεραρχικές. Η μέθοδος
    ανήκει στο \activex, οι παράμετροι της μεθόδου ανήκουν στην μέθοδο κ.ο.κ
    \item Το ενδιάμεσο προϊόν της μετάφρασης είναι ένα \aast που είναι δέντρο.
    Η δομή της \xml είναι επίσης δέντρο.
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Περιγραφή των \activex μέσω της \xml}
\begin{dinglist}{55}
    \item Το \activex έχει ένα όνομα, και περιέχει ιδιότητες (\term{Property})
    και μεθόδους (\term{Method}).
    \item Το \term{Element} της \xml που αντιστοιχεί στο \activex ονομάζετε
    \term{class} και έχει την ιδιότητα \textlatin{name}. Παιδιά του
    \term{Element} \term{class} είναι τα \textlatin{method} και
    \textlatin{property}.
    \item Κάθε ιδιότητα του \activex δίνει την δυνατότητα ανάγνωσης της τιμής
    του (\textlatin{read}), ανάθεσης νέας τιμής (\textlatin{write}) ή και τα δύο.
    \item Η ιδιότητα έχει όνομα, και τύπο δεδομένων όταν υποστηρίζει ανάγνωση
    τιμής.
    \item Όταν υποστηρίζεται η ανάθεση τιμής, η ιδιότητα δέχεται μία μόνο
    παράμετρο και μπορεί να υπάρχει περιορισμός στον τύπο της παραμέτρου.
    \item Ενδέχεται να είναι η προκαθορισμένη ιδιότητα του \activex.
    \item Το αντίστοιχο \term{Element} της \xml ονομάζεται \textlatin{property}
    και έχει τις παρακάτω ιδιότητες:
    \begin{description}
        \item[\textlatin{name}] Το όνομα της ιδιότητας.
        \item[\textlatin{type}] Ο τύπος της επιστρεφόμενης τιμής από την ανάγνωση
        της ιδιότητας. Εάν η ιδιότητα δεν υποστηρίζει την ανάγνωση, ο τύπος είναι
        \textlatin{\emph{VOID}}.
        \item[\textlatin{default}] Έχει τιμή \term{true} εάν η ιδιότητα είναι η
        προκαθορισμένη του \activex. Μπορεί να υπάρχει το πολύ μία τέτοια
        ιδιότητα.
    \end{description}
\end{dinglist}
\end{slide}
\begin{slide}
\selectlanguage{greek}
\Title{Περιγραφή των \activex μέσω της \xml}
\begin{dinglist}{55}
    \item Το \term{Element} \textlatin{property} έχει ως παιδιά τα
    \term{Element} \textlatin{read} και \textlatin{write} που εκφράζουν τις
    αντίστοιχες λειτουργίες της ιδιότητας του \activex.
    \item Η μέθοδος ενός \activex έχει ένα όνομα και επιστρεφόμενο τύπο.
    \item Το αντίστοιχο \term{Element} της \xml ονομάζεται \textlatin{method}
    και επίσης έχει τις ιδιότητες \textlatin{name} και \textlatin{type}.
    \item Τα \term{Element} \textlatin{property} και \textlatin{method}
    εμπεριέχουν το \term{Element} \textlatin{arg} για να περιγράψουν τις
    παραμέτρους που δέχονται. Το \textlatin{arg} έχει μία μόνο ιδιότητα, τον
    τύπο της παραμέτρου.
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Χρήση της \xml ως πρότυπο (\textlatin{template}) για την μετάφραση}
Στα \term{Element} \textlatin{read, write,} και \textlatin{method} υπάρχουν
\term{Element} που ονομάζονται \textlatin{ast} και σχηματίζουν δέντρο.
Το δέντρο εκφράζει τον κώδικα της \php με αντίστοιχη λειτουργικότητα με
την μέθοδο ή ιδιότητα.


Κάθε κόμβος \textlatin{ast} δέχεται τις ιδιότητες:
\begin{dinglist}{55}
    \item \textlatin{name}: Το συμβολικό όνομα του \atoken.
    \item \textlatin{text}: Το κείμενο του \atoken (προαιρετικά).
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Χρήση της \xml ως πρότυπο (\textlatin{template}) για την μετάφραση}
Μεταξύ των \textlatin{ast} στοιχείων, ενδέχεται να υπάρχουν τα \term{Element}
\begin{description}
    \item[\textlatin{arg}] Στο τελικό δέντρο, ο κόμβος θα αντικατασταθεί από την
    παράμετρο που δέχτηκε η μέθοδος ή η ιδιότητα. Για τις μεθόδους, η παράμετρος
    προσδιορίζεται από την ιδιότητα \textlatin{index} του \textlatin{arg}, που
    δηλώνει την σειρά της παραμέτρου.
    \item[\textlatin{this}] Αναφέρεται στο όνομα της μεταβλητής όπου έχει
    αποθηκευτεί ένα στιγμιότυπο του \activex αντικειμένου.
\end{description}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παραδείγματα της \xml}
\selectlanguage{english}
\listCode{string.xml}
\selectlanguage{greek}
Το παράδειγμα ορίζει την κλάση \textlatin{String}. Η ιδιότητα
\textlatin{standalone} σημαίνει πως μπορούν να κατασκευαστούν νέα στιγμιότυπα
της κλάσης με την εντολή \term{new}.
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παραδείγματα της \xml}
\selectlanguage{english}
\listCode{length.xml}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παραδείγματα της \xml}
\selectlanguage{english}
\listCode{anchor.xml}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Ιεραρχία κλάσεων για την αναπαράσταση των \xml}
\includegraphics[scale=0.7]{classes}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Μεταφραστές}
Οι \term{TreeParser} μεταφράζουν τα \aast που παράγονται από τους
\term{Parser} της \js και \vbs. Η μετάφραση είναι στην ουσία η μετατροπή του
δέντρου εισόδου σε άλλο δέντρο που αναπαριστά κώδικα της \php.

Οι μετατροπές που πραγματοποιούνται επί του δέντρου εισόδου είναι δύο ειδών.
\begin{dinglist}{55}
    \item Μετατροπές που αφορούν διαφορές στην σύνταξη δομών της \php με την
    \js ή \vbs.
    \item Παραγωγή δέντρων για μεθόδους και ιδιότητες των \activex και
    ενσωμάτωση τους στο δέντρο εξόδου. Τα δέντρα που παράγονται αναπαριστούν
    κώδικα της \php που προσφέρει την ίδια λειτουργικότητα. Η μετάφραση
    επιτυγχάνετε από τον \term{TreeParser} που συλλέγει πληροφορίες σχετικές
    με τα μέλη του \activex, από τις πληροφορίες που έχουν αποθηκευτεί στα \xml
    αρχεία και από τις \term{Java} κλάσεις που απεικονίζονται στην προηγούμενη
    εικόνα
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Μετατροπές του \term{JsTree}}
\begin{dinglist}{55}
    \item Όταν ο τελεστής '+' ενώνει δύο εκφράσεις εκ των οποίων μία τουλάχιστον
    είναι τύπου \term{String}, τότε αντικαθίσταται από τον τον τελεστή \verb+'.'+.
    \item Εκφράσεις του τύπου
    \selectlanguage{english}
    \verb+a = a op b+
    \selectlanguage{greek}
    αντικαθιστώνται από
    \selectlanguage{english}
    \verb+a op= b+.
    \selectlanguage{greek}
    \item Ο τελεστής \term{typeof} αντικαθίσταται ανάλογα με τον τύπο της
    δεξιάς έκφρασης από:
    \begin{dinglist}{55}
        \item Όταν ο τύπος δεν είναι \term{String} επιλέγεται η έκφραση
        \textlatin{gettype(expr)}, όπου \textlatin{expr} είναι η έκφραση στα
        αριστερά του τελεστή.
        \item Όταν ο τύπος είναι \term{String} τότε ανάλογα με την τιμή της
        έκφρασης επιλέγονται τα παρακάτω:
        \begin{description}
            \selectlanguage{english}
            \item[number]
            \begin{verbatim}

(LAND
    (is_numeric[METHOD_CALL] (ELIST expr))
    (LNOT
        (is_string[METHOD_CALL] (ELIST expr))
    )
)\end{verbatim}
            \verb+is_numeric(expr) && !is_string(expr)+
            \item[boolean] \verb+(is_bool[METHOD_CALL] (ELIST expr))+
            \item[string] \verb+(is_string[METHOD_CALL] (ELIST expr))+
            \item[object] \verb+(is_object[METHOD_CALL] (ELIST expr))+
            \item[function] \verb+(function_exists[METHOD_CALL] (ELIST expr))+
            \item[undefined] \verb+(isset[METHOD_CALL] (ELIST expr))+
            \selectlanguage{greek}
        \end{description}
    \end{dinglist}
    \item Ο τελεστής \term{instanceof} αντιμετωπίζεται με παρόμοιο τρόπο με τον
    \term{typeof}.
    \item Ο τελεστής \term{delete} αντικαθίσταται από την έκφραση
    \selectlanguage{english}\verb+(unset[METHOD_CALL] (ELIST expr))+
    \selectlanguage{greek}
    \item Απομακρύνονται τα \textlatin{label}.
    \item Όταν οι εντολές \term{break} και \term{continue} δείχνουν σε κάποιο
    \term{label} και βρίσκονται σε βρόχο, τότε το \term{label}
    αντικαθίσταται από έναν κατάλληλο αριθμό, ώστε το αποτέλεσμα να είναι το
    ίδιο. Εάν οι εντολές δεν βρίσκονται σε βρόχο, τότε πρόκειται για την εντολή
    \term{goto} την οποία δεν υποστηρίζει η \php και δεν μεταφράζεται.
    \item Ο κώδικας που βρίσκεται στο εσωτερικό της εντολής \term{with}
    επεκτείνεται ώστε να περιλαμβάνει και το όνομα του αντικειμένου.
    Για παράδειγμα ο κώδικας:
    \selectlanguage{english}
    \listCode{with.txt}
    \selectlanguage{greek}
    αντιμετωπίζεται το ίδιο με το κώδικα:
    \selectlanguage{english}
    \listCode{withexp.txt}
    \selectlanguage{greek}
    \item Τα \textlatin{else if} αντικαθιστώνται με το \textlatin{elseif}
    \item Η \js υποστηρίζει κλάσεις με έναν μάλλον ιδιαίτερο τρόπο.
    Η μέθοδος ανήκει σε κλάση εάν:
    \begin{dinglist}{55}
        \item Αναφέρεται στο αντικείμενο \term{this}.
        \item Αναφέρεται από άλλη μέθοδο που ανήκει στην κλάση σε μία έκφραση
        της μορφής:\\
\selectlanguage{english}
\verb+this.someName = aName+
\selectlanguage{greek}\\
        όπου το \textlatin{someName} ορίζει το όνομα του μέλους και το
        \textlatin{aName} είναι το όνομα της μεθόδου.
    \end{dinglist}
    Μέλη της κλάσης θα είναι επίσης και όσες μεταβλητές ορίζονται με τον
    παραπάνω τρόπο.

    Συνήθως υπάρχει μία κεντρική μέθοδος που εκτελεί χρέη \term{constructor}.
    Για να προσδιοριστεί η μέθοδος ελέγχεται εάν:
    \begin{dinglist}{55}
        \item Υπάρχει μέθοδος που αναφέρεται σε άλλες μεθόδους με την μορφή
\selectlanguage{english}
\verb+this.someName = aName+
\selectlanguage{greek}
        \\αλλά καμία άλλη δεν αναφέρεται σε εκείνη με τον ίδιο τρόπο.
        \item Στην ατυχή περίπτωση οπού δεν υπάρχει καμία τέτοια μέθοδος ή
        υπάρχουν παραπάνω από μία, επιλέγεται εκείνη που έχει χρησιμοποιηθεί
        μετά από την εντολή \term{new}
    \end{dinglist}


    Η κλάση της \php θα έχει τις παρακάτω ιδιότητες:
    \begin{dinglist}{55}
        \item Το όνομα της κλάσης θα είναι το όνομα της μεθόδου που λειτουργεί
        ως \term{constructor}.
        \item Κάθε μέθοδος που ανήκει στην κλάση θα μεταφερθεί από το σημείο
        δήλωσής της, στο εσωτερικό της κλάσης.
        \item Για τις μεταβλητές που ανήκουν στην κλάση και αρχικοποιούνται
        ταυτόχρονα με την δήλωσή τους, κατασκευάζεται η δήλωσή της στο εσωτερικό
        της κλάσης και ο κώδικας της αρχικοποίησης μεταφέρεται στο
        \term{constructor}.
        \item Οι ολικές(\term{global scope}) μεταβλητές δηλώνονται με την εντολή
        \term{global}.
    \end{dinglist}
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Μετατροπές του \term{VbsTree}}
\begin{dinglist}{55}
    \item Αντικατάσταση του τελεστή \term{impl} με την έκφραση:
    \selectlanguage{english}
    \begin{verbatim}
(NOT
  (AND lexpr
    (NOT rexpr)
  )
)\end{verbatim}
    \verb+!(lexpr && !rexpr)+
    \selectlanguage{greek}
    \item Αντικατάσταση του τελεστή \term{eqv} με την έκφραση:
    \selectlanguage{english}
    \verb+(NOT (XOR lexpr rexpr))+
    \selectlanguage{greek}
    \item Αντικατάσταση του τελεστή \verb+\+ (διαίρεση χωρίς υπόλοιπο) με την
    έκφραση:\\
    \selectlanguage{english}
    \begin{verbatim}
(ceil[METHOD_CALL]
  (ARGLIST_VALUES
    (DIVIDE lexpr rexpr)
  )
)\end{verbatim}
    \verb+ceil(lexpr / rexpr)+
    \selectlanguage{greek}
    \item Αντικατάσταση του τελεστή \verb+^+ με την έκφραση:
    \selectlanguage{english}
    \verb+(pow[METHOD_CALL] (ARGLIST_VALUES(lexpr  rexpr)))+
    \selectlanguage{greek}
    \item Αντικαθιστά την εντολή \term{randomize} με την μέθοδο \term{srand}
    \item Μεταφράζει δηλώσεις σταθερών (\term{const}) με την εντολή \term{define}
    της \php
    \item Αντικαθιστά την εντολή \term{erase} με την εντολή \term{unset}
    \item Η εντολή \term{exit} ανάλογα με την λέξη κλειδί που έπεται
    αντικαθίσταται με:
    \begin{description}
        \item[\textlatin{Do}] \textlatin{break}
        \item[\textlatin{For}] \textlatin{break}
        \item[\textlatin{Sub}] \textlatin{return}
        \item[\textlatin{Function}] \textlatin{(return expr)}
        \item[\textlatin{Property}] Δεν υποστηρίζεται!
    \end{description}
    \item Τα \textlatin{else if} αντικαθιστώνται με το \textlatin{elseif}
    \item Το \term{do while condition \ldots loop} μεταφράζεται σε \term{while}.
    \item Η εντολή \term{do until condition \ldots loop} μετατρέπεται σε
    \term{while} όπου η έκφραση \term{condition} αντιστρέφεται. Ανάλογα με τον
    τελεστή που είναι ρίζα της έκφρασης \term{condition} η νέα ρίζα θα είναι:
    \selectlanguage{english}
    \begin{dinglist}{55}
        \item LT : GE
        \item GT : LE
        \item LE : GT
        \item GE : LT
        \item NEQ : EQ
        \item EQ : NEQ \selectlanguage{greek}
        \item \textlatin{NOT} : απαλείφεται
        \item Άλλο : Κατασκευάζεται δέντρο όπου η ρίζα θα είναι το
        \textlatin{NOT} και πρώτο παιδί της ρίζας θα είναι η προηγούμενη έκφραση
    \end{dinglist}
    \selectlanguage{greek}
    \item Η εντολή \term{do \ldots loop until condition} μετατρέπεται σε
    \term{do \ldots while} όπου η έκφραση \term{condition} αντιστρέφεται.
    \item Η \term{while \ldots wend} μετατρέπεται σε \term{while}
    \item Η \term{select case} μετατρέπεται σε \term{switch} με τις παρακάτω
    επιπλέον αλλαγές:
    \begin{dinglist}{55}
        \item Εάν κάποιο \term{case} έχει παραπάνω από μία τιμές ελέγχου,
        αντικαθίσταται με μία σειρά από \term{case} εντολές ίσες στο πλήθος όσο
        οι τιμές και μόνο η τελευταία θα περιέχει την εντολή \term{break}
        \item Στο τέλος της κάθε \term{case}, προστίθεται η εντολή \term{break}
        \item Η \term{case else} αντικαθίσταται με την \term{default}
    \end{dinglist}
    \newpage
    Παρακάτω παραθέτουμε ένα παράδειγμα σε ψευδοκώδικα των μετατροπών.
    \selectlanguage{english}
\listCode{case.txt}
\listCode{casetrans.txt}
    \selectlanguage{greek}
    \item Η εντολή \selectlanguage{english}
    \verb+for counter = start to end [step s]+ \selectlanguage{greek} ορισμένες
    φορές μετατρέπεται σε εντολή \term{while}. Η μετατροπή θα γίνει εφ' όσων:
    \begin{dinglist}{55}
        \item Έχει οριστεί η παράμετρος \term{step}
        \item Η τιμή της παραμέτρου είναι κλήση σε μέθοδο ή μέλος κλάσης.
    \end{dinglist}
    \item Τα \term{sub} μετατρέπονται σε \term{function} με επιστρεφόμενο τύπο
    \term{void}
    \item Στα \term{function} και \term{sub} δηλώνονται οι ολικές μεταβλητές
    που χρησιμοποιούν, με την εντολή \term{global}
    \newpage
    \item Εξασφαλίζεται ότι οι συναρτήσεις πάντα θα επιστρέφουν τιμή. Για να
    εξασφαλιστεί το παραπάνω θα πρέπει να:
    \begin{enumerate}
        \item Δηλώνεται η μεταβλητή \term{result}.
        \item Οι εκφράσεις του τύπου \selectlanguage{english}
        \verb+funcName = expr+\selectlanguage{greek} μετατρέπονται σε
        \selectlanguage{english} \verb+result = expr+.\selectlanguage{greek}
        \item Η εντολή \term{exit function} μετατρέπεται σε \term{return result}.
        \item Όταν ο \term{VbsTree} φτάσει στο τέλος της \term{function} και
        δεν έχει επιστραφεί τιμή, τότε εισάγει την εντολή \term{return result}.
    \end{enumerate}
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Μετάφραση \activex}
    Για την μετάφραση των \activex απαιτούνται
    \begin{dinglist}{55}
        \item Οι πληροφορίες που υπάρχουν στο \aast που κατασκεύασε ο
        \term{Parser}.
        \item Τα δεδομένα που έχουν αποθηκευτεί στα \xml αρχεία.
        \item Οι κλάσεις που χειρίζονται αυτά τα δεδομένα.
        \item Ο \term{TreeParser} που τροφοδοτεί τις κλάσεις με πληροφορίες
        που αντλεί από το \aast και εκτελεί τμήματα κώδικα όταν αναγνωρίζεται
        η μορφή κάποιου δέντρου.
    \end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παράδειγμα μετάφρασης \activex}
Έστω η έκφραση \selectlanguage{english}\verb+Response.write "Hello World"+\\
\selectlanguage{greek}
Η \term{Response} είναι ένα από τα εγγενή \activex της \asp. Η μέθοδος
\term{write}, στέλνει στο \textlatin{browser} την παράμετρο της ως σειρά
χαρακτήρων.
Το \aast της έκφρασης είναι:\selectlanguage{english}
\begin{verbatim}
(SUB_CALL
  (DOT
    Response[IDENTIFIER]
    write[IDENTIFIER]
  )
  (ARGLIST_VALUES
    Hello World[DSTRING]
  )
)\end{verbatim}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παράδειγμα μετάφρασης \activex}
Αρχικά θα εξεταστεί το δέντρο
\selectlanguage{english}\verb+(DOT Response write)+\selectlanguage{greek},
και εκτελείται κώδικας ο οποίος:
\begin{dinglist}{55}
    \item Επιχειρεί να εντοπίσει κλάση ή μεταβλητή που αποθηκεύει στιγμιότυπο
    μιας κλάσης, με το όνομα \term{Response}. Εν προκειμένω, θα βρει ένα
    στιγμιότυπο της κλάσης \term{XmlASPClass}, που χειρίζεται το \activex
    \term{Response}.
    \item Ρωτά το αντικείμενο εάν έχει κάποιο μέλος με το όνομα \term{write}.
    Η απάντηση είναι καταφατική, και επιστρέφει ένα στιγμιότυπο της κλάσης
    \term{GenericMethod}.
\end{dinglist}
Το αποτέλεσμα θα είναι το δέντρο:\selectlanguage{english}
\verb+(write[METHOD_CALL]{ObjectAST})+
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παράδειγμα μετάφρασης \activex}
Έπειτα εξετάζεται το δέντρο
\selectlanguage{english}\verb+(ARGLIST_VALUES Hello World[DSTRING])+\\
\selectlanguage{greek}
Από το δέντρο, κατασκευάζεται μία λίστα με μοναδικό μέλος το \aast
\selectlanguage{english}\verb+Hello World[DSTRING]+.
\selectlanguage{greek}
Τελικά, το δέντρο εισόδου απαλείφεται και η λίστα αποθηκεύεται προσωρινά.
\end{slide}


\begin{slide}
\selectlanguage{greek}
\Title{Παράδειγμα μετάφρασης \activex}
Σε αυτό το σημείο, το δέντρο έχει διαμορφωθεί σε:\selectlanguage{english}
\verb+(SUB_CALL write[METHOD_CALL]{ObjectAST})+\\
\selectlanguage{greek}
Για να παραχθεί το δέντρο της \php συμβαίνουν τα παρακάτω:
\begin{dinglist}{55}
    \item Ανακτάται το στιγμιότυπο του \term{GenericMethod} από τον κόμβο
    \term{write}
    \item Εξετάζεται εάν η μέθοδος δέχεται μία μόνο παράμετρο
    \item Η μέθοδος τροφοδοτείται με τις παραμέτρους που έχουν αποθηκευτεί στην
    λίστα
    \item καλείτε η μέθοδος \term{translate} του \term{Method}, η οποία
    επιστρέφει το δέντρο της \php
\end{dinglist}
\newpage
Η μορφή του \php δέντρου είναι:\selectlanguage{english}
\begin{verbatim}
(print[METHOD_CALL]
  (ARGLIST_VALUES
    Hello World[DSTRING]
  )
)\end{verbatim}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Παραγωγή Κώδικα}
Η παραγωγή κώδικα πραγματοποιείτε από δύο \term{TreeParser}, το \term{JsGenerator}
και \term{VbsGenerator}.
Οι \term{TreeParser}, επισκέπτονται κάθε κόμβο του τελικού δέντρου και παράγουν
τον κατάλληλο κώδικα για τον κόμβο.
Οι δύο \term{TreeParser}, αποτελούν το τέταρτο άρθρομα του \term{ASPA}.
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Σχηματική αναπαράσταση της μετάφρασης}
\includegraphics[scale=0.65]{flow}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Συμπεράσματα}
\begin{dinglist}{55}
    \item Το \term{ASPA} έχει αρθρωτή (\textlatin{modular}) δομή που συνεισφέρει
    στην:
    \begin{dinglist}{55}
        \item ευκολότερη επέκταση και συντήρηση του προγράμματος
        \item χρήση ορισμένων αρθρωμάτων σε άλλα προγράμματα
    \end{dinglist}
    \item Η χρήση της \xml για την περιγραφή των \activex διασφαλίζει την:
    \begin{dinglist}{55}
    \item εύκολη επέκταση του \term{ASPA}, ώστε να αναγνωρίζει επιπλέον \activex
    \item αλλαγή της μετάφρασης για ορισμένα \activex ή μεθόδων τους, εάν ο
    χρήστης το επιθυμεί
    \end{dinglist}
\end{dinglist}
\end{slide}

\begin{slide}
\selectlanguage{greek}
\Title{Συμπεράσματα}
\begin{dinglist}{55}
    \item Η επιλογή του \term{Antlr} για την κατασκευή των \lex, \term{Parser}
    και \term{TreeParser}, αποτέλεσε σημαντική παράμετρο στην ταχύτερη ανάπτυξη
    του \term{ASPA} και διευκολύνει την μελλοντική επέκταση του
    \item Το \term{ASPA} συνοδεύεται από 65 \term{Test Cases}, και από εργαλεία
    που προσφέρουν την υποδομή για την κατασκευή επιπλέον δοκιμαστικών αρχείων.
\end{dinglist}
\end{slide}

\end{document}
